<div class="login-page">
    <div class="form" style="margin-top:100px;"> 
        <i class="fa-solid fa-arrow-left" routerLink="/home" style="margin-bottom: 30px;cursor: pointer;">Volver</i>
        <p style="margin-top:-10px;margin-bottom:34px;font-family: 'Segoe UI', sans-serif; font-size: 44px;">Aeronave no tripulada</p>
        <p style="margin-top:-10px;font-family: 'Segoe UI', sans-serif; font-size: 20px;">En esta pantalla podra calcular la aeronave no tripulada mas optima y la distancia para un vuelo.</p>
        <hr>
        <div class="filters" style="margin-top:-30px;">    
            <div style="max-width: 400px;float: left;margin-right: 240px;margin-left:100px;" >       
                <p style="margin-top:20px;margin-bottom:-14px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Origen:</p>
                <div class="styled-select slate" style="margin-left: 0px; float: left">
                    <select [(ngModel)]="selectedDestinationToInclude" (change)="cargarDestinos()">
                        <option  [ngValue]="null">Seleccione un origen</option>
                        <option  *ngFor="let d of origins" [ngValue]="d">{{d.iata + " - " + d.city}}</option>
                     </select>  
                </div> 
            </div>     
            <div style="max-width: 600px;float: left;margin-left: 110px;" >   
              <p style="margin-top:20px;margin-bottom:-14px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Destino:</p>
                <div class="styled-select slate" style="margin-left: 0px;">
                    <select [(ngModel)]="selectedDestinationToExclude" [disabled]="disabledInclude" (change)="enableGenerate()">
                        <option  [ngValue]="null">Seleccione un destino</option>
                        <option  *ngFor="let d of destinations" [ngValue]="d">{{d.iata + " - " + d.city}}</option>
                    </select>  
                </div>   
                <p *ngIf="showNoDestinationError" style="margin-top:-18px;margin-bottom:-4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder; color: brown;">No existen destinos para vuelos no</p>
                <p *ngIf="showNoDestinationError" style="margin-top:0px;margin-bottom:-20px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder; color: brown;">tripulados desde ese origen.</p>
            </div>  
        </div> 
        
        <div class="filters" >  
            <div style="margin: -18px 30px 20px 495px; float: left">
                <button (click)="generate()" [disabled]="disabledGenerate" type="button"><i class="fa-solid fa-paper-plane" style="margin-right:10px;"></i>Calcular</button> 
            </div>                
            
            
        </div>      
            
    </div>

    
    <div class="container" style="margin-left:370px" *ngIf="showErrorPopup">
        <div class="boxPopup" id="popup">
          <div class="msgPopup">¡¡¡Error!!!</div>
          <div class="descript">Deben seleccionarse origen y destino</div>
          <button id="btnClose" style="background-color: brown; width: 100px; margin-left: 310px;" (click)="showErrorPopup = false;">Cerrar</button>
        </div>
    </div>

    
    <div class="loading" *ngIf="showLoadAnimation">Loading&#8230;</div>


    <div class="container" style="margin-left:0px;min-width: 1250px; width:1250px; margin-top:200px;" *ngIf="showParameters">
        <div class="boxPopup" id="popup" style="width:1250px; height: 240px;">
            <div class="msgPopup">Parametros de generacion de ruta:</div>          
            <div style="float: left; width: 18%;margin-left:20px;margin-right: 25px;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Ganancia por persona:</p>
                <input [(ngModel)]="gananciaPorPersona" />
            </div>
            <div style="float: left; width: 18%;margin-left:0px;margin-right: 25px;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Costo de combustible:</p>
                <input [(ngModel)]="costoCombustible" />
            </div>          
            <div style="float: left; width: 15%;margin-left:0px;margin-right: 25px;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Costo de lubricante:</p>
                <input [(ngModel)]="costoLubricante"/>
            </div>                 
            <div style="float: left; width: 15%;margin-left:0px;margin-right: 25px;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Costo de insumos:</p>
                <input [(ngModel)]="costoInsumos" />
            </div>
            <div style="float: left; width: 18%;margin-left:0px;margin-right: 0px;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">Promedio de personas:</p>
                <input [(ngModel)]="promedioDePersonas" />
            </div>
            <button id="btnClose" style="width: 120px; margin-left: 760px;float:left;background-color: brown;" (click)="showParameters = false;"><i class="fa-solid fa-x" style="margin-right:10px;"></i>Cerrar</button>
            <button id="btnClose" style="width: 120px; margin-left: 30px;float:left;background-color: grey;" (click)="resetParameters()"><i class="fa-solid fa-arrow-rotate-left" style="margin-right:10px;"></i>Reiniciar</button>
            <button id="btnClose" style="width: 120px; margin-left: 30px;float:left;" (click)="saveParameters()"><i class="fas fa-save" style="margin-right:10px;"></i>Guardar</button>
        </div>
    </div>
    
    <div class="container" style="margin-left:360px; width:1200px; margin-top:200px;" *ngIf="showGeneratedRoute">
        <div class="boxPopup" id="popup" style="width:1200px; height: 300px;">
            <div class="msgPopup">Ruta generada:</div>          
                <div id="box">
                    <p style="margin: 10px;font-family: 'Segoe UI', sans-serif; font-size: 18px;font-weight: bolder;">{{generatedRoute}}</p>
                </div> 
            <div style="float: left; width: 45%;margin-left:210px;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">{{"Aeronave: " + aircraft}}</p>
            </div>          
            <div style="float: left; width: 25%;">
                <p style="margin-bottom: 4px;font-family: 'Segoe UI', sans-serif; font-size: 16px;font-weight: bolder;">{{"Distancia: " + distance + "km"}}</p>
            </div> 
          <button id="btnClose" style="background-color: brown; width: 100px; margin-left: 970px;" (click)="showGeneratedRoute = false;">Cerrar</button>
        </div>
    </div>
</div>



  

  
